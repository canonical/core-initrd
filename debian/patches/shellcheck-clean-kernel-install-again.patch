From: =?utf-8?b?0L3QsNCx?= <nabijaczleweli@nabijaczleweli.xyz>
Date: Sun, 22 May 2022 22:09:23 +0200
Subject: shellcheck-clean kernel-install again

(cherry picked from commit 35339eb88c72f30204589101765a0bca5424e253)
---
 src/kernel-install/kernel-install.in | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/kernel-install/kernel-install.in b/src/kernel-install/kernel-install.in
index cf1b81b..c6965ee 100755
--- a/src/kernel-install/kernel-install.in
+++ b/src/kernel-install/kernel-install.in
@@ -115,6 +115,7 @@ fi
 
 if [ -n "$install_conf" ]; then
     [ "$KERNEL_INSTALL_VERBOSE" -gt 0 ] && echo "Reading $install_confâ€¦"
+    # shellcheck source=/dev/null
     . "$install_conf"
     # FIXME: This may override configuration in environment variables, e.g. $BOOT_ROOT.
 fi
@@ -133,6 +134,7 @@ fi
 # generated one. If the user configured an explicit machine ID to use in
 # /etc/machine-info to use for our purpose, we'll use that instead (for
 # compatibility).
+# shellcheck source=/dev/null
 if [ -z "$MACHINE_ID" ] && [ -r /etc/machine-info ] && . /etc/machine-info && MACHINE_ID="$KERNEL_INSTALL_MACHINE_ID"; then
     [ -n "$MACHINE_ID" ] && [ "$KERNEL_INSTALL_VERBOSE" -gt 0 ] && \
         echo "machine-id $MACHINE_ID acquired from /etc/machine-info"
@@ -160,6 +162,7 @@ if [ -z "$ENTRY_TOKEN" ]; then
     # the IMAGE_ID= and ID= fields from /etc/os-release and finally the fixed
     # string "Default"
     ENTRY_TOKEN_SEARCH="$MACHINE_ID"
+    # shellcheck source=/dev/null
     [ -r /etc/os-release ] && . /etc/os-release
     [ -n "$IMAGE_ID" ] && ENTRY_TOKEN_SEARCH="$ENTRY_TOKEN_SEARCH $IMAGE_ID"
     [ -n "$ID" ] && ENTRY_TOKEN_SEARCH="$ENTRY_TOKEN_SEARCH $ID"
@@ -294,7 +297,7 @@ PLUGINS="$(
 IFS="
 "
 
-[ "$KERNEL_INSTALL_VERBOSE" -gt 0 ] && echo -e "Plugin files:\n$PLUGINS"
+[ "$KERNEL_INSTALL_VERBOSE" -gt 0 ] && printf '%s\n' "Plugin files:" "$PLUGINS"
 
 case "$COMMAND" in
     add)
